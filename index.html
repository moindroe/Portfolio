<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Oxyg√®ne Fitness Andilly</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css" />

  <!-- Small CSS additions to ensure the mute button displays even if style.css wasn't updated -->
  <style>
    /* mute/unmute button in the hero (if not present in your style.css) */
    .hero-mute{
      position: absolute;
      right: 18px;
      top: 18px;
      z-index: 40;
      background: rgba(0,0,0,0.45);
      color: #fff;
      border: none;
      padding: 8px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      backdrop-filter: blur(4px);
    }
    .hero-mute:hover{ background: rgba(0,0,0,0.6); }
    /* hide fallback image by default; JS will toggle display */
    #heroFallback{ display: none; }
  </style>
</head>
<body>
  <!-- HERO header with video background + logo + site name -->
  <header class="hero-header">
    <div class="hero-media" aria-hidden="true">
      <!-- Put your video at images/hero-video.mp4 (recommended) -->
      <video id="heroVideo" class="hero-video" autoplay muted loop playsinline preload="auto" poster="images/hero-image.jpg">
        <source src="squat.mp4" type="video/mp4">
        <source src="squat.mp4" type="video/webm">
        <!-- If video not supported, the poster/fallback image will show -->
      </video>

      <!-- Fallback image (displayed if video is hidden/unavailable) -->
      <img id="heroFallback" class="hero-fallback" src="images/hero-image.jpg" alt="Oxyg√®ne Fitness - Salle" />

      <!-- overlay for blue/black sporty tint -->
      <div class="hero-overlay" aria-hidden="true"></div>
    </div>

    <div class="container header-inner hero-content">
      <img src="logo-oxygene.png" alt="Logo Oxyg√®ne Fitness" class="logo" />
      <div class="brand">
        <h1>Oxyg√®ne Fitness</h1>
        <p class="subtitle">Andilly ‚Äî Ouvert 6h √† 23h, 7j/7</p>
      </div>
      <div class="header-spacer"></div>

      <!-- Mute/unmute button for the hero video -->
      <button id="heroMuteBtn" class="hero-mute" aria-label="Activer son">üîà</button>
    </div>

    <nav class="main-nav container hero-nav">
      <a href="#horaires">Horaires & acc√®s</a>
      <a href="#planning">Planning</a>
      <a href="#coachs">Coachs</a>
      <a href="#gallery">La salle</a>
      <a href="#tarifs">Tarifs</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <main>
    <section id="horaires" class="container section reveal">
      <h2>Horaires & Acc√®s</h2>
      <p>
        <strong>Adresse :</strong> 10 Avenue des Cures, 95580 Andilly<br />
        <strong>Horaires :</strong> 6h - 23h, 7 jours sur 7<br />
        <strong>T√©l√©phone :</strong> 01 39 59 15 48
      </p>
      <iframe
        src="https://www.google.com/maps?q=10+Avenue+des+Cures,+Andilly&output=embed"
        width="100%" height="260" allowfullscreen="" loading="lazy"></iframe>
    </section>

    <section id="planning" class="container section reveal">
      <h2>Planning des cours collectifs</h2>
      <img src="planning-cours-co.png" alt="Planning des cours collectifs Oxyg√®ne Fitness" class="preview-img" loading="lazy" />
      <div class="center">
        <button class="btn-main" data-action="open-modal" data-type="reservation">R√©server un cours collectif</button>
      </div>
    </section>

    <section id="coachs" class="container section reveal">
      <h2>Nos Coachs</h2>
      <div class="coach-list">
        <div class="coach">
          <img src="romain-coach.png" alt="Romain coach" loading="lazy" />
          <h3>Romain</h3>
          <p>Boxe, Cross Training, Pr√©pa physique</p>
        </div>
        <div class="coach">
          <img src="fanny-coach.png" alt="Fanny coach" loading="lazy" />
          <h3>Fanny</h3>
          <p>Cardio, Pilates, Sant√© articulaire</p>
        </div>
        <div class="coach">
          <img src="kilian-coach.png" alt="Kilian coach" loading="lazy" />
          <h3>Kilian</h3>
          <p>Musculation, Circuit training</p>
        </div>
      </div>
    </section>

    <section id="gallery" class="container section reveal">
      <h2>La salle ‚Äî Galerie</h2>
      <p>Quelques photos de la salle pour vous donner envie. Clique sur une image pour l‚Äôagrandir.</p>
      <div class="gallery-grid">
        <img src="muscu.png" alt="Espace Musculation" class="gallery-item" loading="lazy" />
        <img src="cardio.png" alt="Espace cardio" class="gallery-item" loading="lazy" />
        <img src="vestiaires.png" alt="Nos vestiaires" class="gallery-item" loading="lazy" />
      </div>
    </section>

    <section id="tarifs" class="container section reveal">
      <h2>Tarifs</h2>
      <img src="tarifs.png" alt="Tarifs Oxyg√®ne Fitness" class="preview-img" loading="lazy" />
      <div class="center">
        <button class="btn-main" data-action="open-modal" data-type="abonnement">Prendre un abonnement</button>
      </div>
    </section>

    <section id="contact" class="container section reveal">
      <h2>Contact & R√©seaux</h2>
      <p>Besoin d'informations ou envie de visiter la salle ? Contactez-nous !</p>

      <form id="contactForm" class="contact-form">
        <label for="contact-name">Nom</label>
        <input type="text" id="contact-name" name="name" placeholder="Votre nom" required />

        <label for="email">Votre email</label>
        <input type="email" id="email" name="email" placeholder="ex: contact@mail.com" required />

        <label for="message">Message</label>
        <textarea id="message" name="message" rows="5" placeholder="Votre message" required></textarea>

        <button type="submit" class="btn-submit">Envoyer</button>
      </form>

      <div class="social-links">
        <a href="https://www.instagram.com/" target="_blank" class="instagram">Instagram</a>
        <a href="https://www.facebook.com/" target="_blank" class="facebook">Facebook</a>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; 2025 Oxyg√®ne Fitness Andilly. Tous droits r√©serv√©s.</p>
    </div>
  </footer>

  <!-- Modal (r√©servation / abonnement) -->
  <div id="modalOverlay" class="modal-overlay" aria-hidden="true">
    <div class="modal">
      <button class="modal-close" aria-label="Fermer">‚úï</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <!-- Lightbox modal for gallery -->
  <div id="lightbox" class="lightbox" aria-hidden="true">
    <div class="lightbox-inner">
      <button class="lightbox-close" aria-label="Fermer">‚úï</button>
      <img id="lightboxImg" src="" alt="Agrandissement" />
    </div>
  </div>

  <!-- Inline script to handle hero video fallback and mute button -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const heroVideo = document.getElementById('heroVideo');
      const heroFallback = document.getElementById('heroFallback');
      const heroMuteBtn = document.getElementById('heroMuteBtn');

      function isSmallScreen() {
        return window.innerWidth <= 560;
      }

      // If small screen, prefer image fallback to save bandwidth and avoid autoplay issues
      if (isSmallScreen()) {
        if (heroVideo) heroVideo.style.display = 'none';
        if (heroFallback) heroFallback.style.display = 'block';
      } else {
        // Try to play the video and fallback on error or rejection
        if (heroVideo) {
          // hide fallback if present
          if (heroFallback) heroFallback.style.display = 'none';

          // try play (some browsers may refuse; catch to fallback)
          heroVideo.play().catch(() => {
            heroVideo.style.display = 'none';
            if (heroFallback) heroFallback.style.display = 'block';
          });

          // ensure fallback displayed on video error
          heroVideo.addEventListener('error', () => {
            heroVideo.style.display = 'none';
            if (heroFallback) heroFallback.style.display = 'block';
          });
        } else {
          if (heroFallback) heroFallback.style.display = 'block';
        }

        // Mute/unmute button behavior
        if (heroMuteBtn && heroVideo) {
          // init icon
          heroMuteBtn.textContent = heroVideo.muted ? 'üîà' : 'üîä';
          heroMuteBtn.setAttribute('aria-label', heroVideo.muted ? 'Activer son' : 'Couper le son');

          heroMuteBtn.addEventListener('click', () => {
            heroVideo.muted = !heroVideo.muted;
            heroMuteBtn.textContent = heroVideo.muted ? 'üîà' : 'üîä';
            heroMuteBtn.setAttribute('aria-label', heroVideo.muted ? 'Activer son' : 'Couper le son');
          });
        }
      }

      // Optional: if user resizes (switching between small/large), adjust display
      window.addEventListener('resize', () => {
        if (isSmallScreen()) {
          if (heroVideo) heroVideo.style.display = 'none';
          if (heroFallback) heroFallback.style.display = 'block';
        } else {
          if (heroVideo) heroVideo.style.display = 'block';
          if (heroFallback) heroFallback.style.display = 'none';
        }
      });
    });
  </script>

  <!-- your existing main script (keeps modal, scroll, gallery behavior) -->
  <script src="script.js"></script>
</body>
</html>
